## 前言

> 哈喽，大家好，我是`asong`。我们在日常开发中离不开哈希表，**哈希表**（Hash table，也叫**散列表**），是根据关键码值(Key value)而直接进行访问的数据结构，它通过把关键码值映射到表中一个位置来访问记录，以加快查找的速度。这个映射函数叫做散列函数，存放记录的数组叫做散列表。基本所有语言都实现了哈希数据结构，比如`python`中的字典，`java`中的`hashmap`，`Go`语言中的`map`，本文我们就来介绍一下`Go`语言是如何实现`map`的。



## 什么是哈希表

先看一下哈希表的定义：

> **散列表**（**Hash table**，也叫**哈希表**），是根据键（Key）而直接访问在内存储存位置的数据结构。也就是说，它通过计算出一个键值的函数，将所需查询的数据映射、到表中一个位置来让人访问，这加快了查找速度。这个映射函数称做散列函数，存放记录的数组称做**散列表**。

尝试用大白话来解释一下，哈希表就是通过一个映射函数f(key)将一组数据散列存储在数组中的一种数据结构，在这个哈希表中每一个元素的key和它的存储位置都存在一个f(key)的映射关系，可以通过f(key)快速的查找到这个元素在表中的位置；

假设现在有一个数组元素：[10, 20, 66, 88, 98]，我们使用取余法将这组数据存储在一个长度为9的数组中，那么映射函数为 f (key) = key % 9，余数为该元素在数组中存储的位置，最终得到如下哈希表：

![](https://song-oss.oss-cn-beijing.aliyuncs.com/golang_dream/article/static/%E6%88%AA%E5%B1%8F2022-08-14%20%E4%B8%8B%E5%8D%882.40.16.png)

现在我们想哈希表找到值为20的元素就只需要通过映射函数的到存储位置，查找效率O(1)。



## 哈希冲突

还是用上文的例子，我在这个哈希表中在插一些数据，比如我们现在要插入数据97，使用映射函数的到存储位置 f(97) = 97 % 9 = 7，此时数组中7的位置已经被其他元素占据了，这就发生了冲突，这种情况我们就称它为哈希冲突，官方定义如下：

> 不同的关键字可能得到同一个哈希地址，key1≠key2，但是f(key1) = f(key2)，这种现象我们称之为哈希冲突，也叫哈希碰撞。

哈希冲突是不可避免的，只能尽可能的减少，一个好的哈希函数可以有效的避免哈希冲突的出现，